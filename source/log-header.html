<html>
    <head>
        <title>dnsblocker</title>
        <style type='text/css'>
        body {font-family: monospace; font-size: 16px; }
        /*#content { white-space: pre;}*/
        #content p {line-height: 1.4em; margin: 0; white-space: pre;}
        .de {background-color: rgb(251, 172, 172)}
        .nx {background-color: rgb(251, 230, 172)}
        .fa {background-color: rgb(223, 223, 223)}
        button { display: inline-block; padding-right: 2em;}
        </style>
        <meta http-equiv="x-dns-prefetch-control" content="off">
        <script type="text/JavaScript">
            function auto_refresh(period) { setTimeout("location.reload();", period); }
        </script>
    </head>
    <body onload="javascript: auto_refresh(15000);">
        <script type="text/javascript">
            function call_rest(url)
            {
                let xhr = new XMLHttpRequest();
                xhr.responseType = 'json'
                xhr.timeout = 2000;
                xhr.open('GET', url)
                xhr.onload = function()
                {
                    if (xhr.response.status != 'ok')
                        alert(`ERROR: ${xhr.response.message}`);
                };
                xhr.send();
            }
        </script>

        <div style='width: 100%'>
            <button onclick="call_rest('/console/filter/on')">Enable filter</button>
            <button onclick="call_rest('/console/filter/off')">Disable filter</button>
            <button onclick="call_rest('/console/heuristic/on')">Enable heuristics</button>
            <button onclick="call_rest('/console/heuristic/off')">Disable heuristics</button>
            <button onclick="call_rest('/console/reload')">Reload rules</button>
            <button onclick="call_rest('/console/forget')">Clear cache</button>
        </div>

        <div id='content'>
